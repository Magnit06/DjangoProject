{% extends 'layout/basic.html' %}

{% block title %}Профиль пользователя - {{some_user.username}}{% endblock %}

{% block content %}

{% if some_user.pk != user.pk %}
<h2 class="ml-5 mt-5 mb-5">
    Профиль пользователя {% if some_user.first_name and some_user.last_name %} {{ some_user.first_name }} {{ some_user.last_name }} {% else %}
    {{ some_user.username }}{% endif %}.
</h2>
<h3 class="ml-5 mt-5 mb-5">
    Его объявления:
</h3>
{% else %}
<h2 class="ml-5 mt-5 mb-5">
    Здравствуйте, {% if some_user.first_name and some_user.last_name %} {{ some_user.first_name }} {{ some_user.last_name }} {% else %}
    {{ some_user.username }}{% endif %}!
</h2>
<h2 class="ml-5 mt-5 mb-5">
    Вы можете <a class="link-info" href="{% url 'add' %}">добавить</a> ещё объявления.
</h2>
<h3 class="ml-5 mt-5 mb-5">
    Ваши объявления:
</h3>
{% endif %}

{% if bbs %}
<table class="table table-striped table-hover" xmlns="http://www.w3.org/1999/html">
    <thead>
    <tr>
        <th class="align-middle">
            Название
        </th>
        <th class="align-middle">
            Описание
        </th>
        <th class="align-middle">
            Рубрика
        </th>
        <th class="align-middle">
            Дата/время<br>публикации
        </th>
        <th class="align-middle">
            Детальная информация
        </th>
    </tr>
    </thead>
    <tbody>
    {% for bb in bbs %}
    <tr>
        <td><h2>{{ bb.title }}</h2></td>
        <td><p>{{ bb.content }}</p></td>
        <td><p><a class="link-info" href="{% url 'by_rubric' bb.rubric.pk %}">{{ bb.rubric.name }}</a></p></td>
        <td><p>{{ bb.published|date:"d.m.Y H:i:s" }}</p></td>
        <td><p><a class="link-info" href="{% url 'detail' bb.rubric.pk bb.pk %}">Подробнее об объявлении</a></p></td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<nav aria-label="My paginator">
  <ul class="pagination">
      {% if page.has_previous %}
    <li class="page-link">
      <a class="page-link" href="?page={{ page.previous_page_number }}">&lt;</a>
    </li>
      {% endif %}
    <li class="page-link active" aria-current="page">
      <a class="page-link" href="?page={{ page.number }}">{{page.number}} / {{page.paginator.num_pages}}</a>
    </li>
      {% if page.has_next %}
    <li class="page-link"><a class="page-link" href="?page={{ page.next_page_number }}">&gt;</a></li>
      {% endif %}
  </ul>
</nav>
{% else %}
<h3 class="ml-5 mt-5 mb-5">
    Пока объявлений нет, но Вы можете их <a class="link-info" href="{% url 'add' %}">добавить</a>.
</h3>
{% endif %}
{% endblock %}